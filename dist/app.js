var app=angular.module("shuffling",[]);app.controller("FormController",["$scope","shufflingSvc",function(t,e){var s=this;s.submit=function(){e.addGuest(s.name,s.transitionDate,s.status,s.pickupLocation),angular.element("#guests").addClass("active"),angular.element("#guestsTab").addClass("active"),angular.element("#form").removeClass("active"),angular.element("#formTab").removeClass("active")}}]),app.controller("TabController",["$scope","shufflingSvc",function(t,e){var s=this;s.getGuestList=function(){return e.getGuestList()},s.deleteGuest=function(t){e.deleteGuest(t)},s.editGuest=function(t){e.editGuest(t)},s.availableOptions=function(t){var e=[];return e.push(t),("dropoff"===t||"pickup"===t)&&e.push("arrived"),"arrived"===t&&e.push("picked"),e}}]),app.service("shufflingSvc",["Guest","GuestDataSvc",function(t,e){var s=e.getGuestData();this.getGuestList=function(){return s},this.addGuest=function(a,n,u,i){s.push(new t(a,n,u,i)),e.saveGuestData(s)},this.deleteGuest=function(t){var a=confirm("Do you want to delete guest: "+s[t].name+"?");a&&(s.splice(t,1),e.saveGuestData(s))},this.editGuest=function(t){void 0==s[t].checked?s[t].checked=!0:s[t].checked=!s[t].checked,e.saveGuestData(s)}}]),app.service("sampleDataSvc",["$http",function(t){this.guests=[];var e=this;t.get("guests.json").success(function(t){console.log("json data -",t),e.guests=t}).error(function(t){alert("Error reading guests.json")})}]),angular.module("shuffling").factory("Guest",function(){var t=function(t,e,s,a){this.name=t,this.transitionDate=new Date(e),this.status=s,this.pickupLocation=a};return t}),angular.module("shuffling").service("GuestDataSvc",function(){this.getGuestData=function(){var t=[],e=JSON.parse(localStorage.getItem("guests"));return null!=e&&e.forEach(function(e){e.transitionDate=new Date(e.transitionDate),t.push(e)}),t},this.saveGuestData=function(t){localStorage.setItem("guests",JSON.stringify(t))}});