var app=angular.module("shuffling",[]);app.controller("FormController",["$scope","shufflingSvc",function(t,e){var o=this;o.submit=function(){console.log("in FormControllers submit"),console.log(o.name," - ",o.transitionDate," - ",o.status," - ",o.pickupLocation),e.addGuest(o.name,o.transitionDate,o.status,o.pickupLocation)}}]),app.controller("TabController",["$scope","shufflingSvc",function(t,e){var o=this;o.getGuestList=function(){return console.log("TabController.getGuestList"),e.getGuestList()},o.deleteGuest=function(t){console.log("deleteGuest - ",t),e.deleteGuest(t)},o.editGuest=function(t){console.log("editGuest - ",t),e.editGuest(t)},o.availableOptions=function(t){var e=[];return e.push(t),("dropoff"===t||"pickup"===t)&&e.push("arrived"),"arrived"===t&&e.push("picked"),e}}]),app.service("shufflingSvc",["Guest","sampleDataSvc",function(t,e){var o=this;this.fetchFromLocalStorage=function(){var t=[],e=JSON.parse(localStorage.getItem("guests"));return console.log("jsonGuests.length",e.length),console.log("jsonGuests - ",e),e.forEach(function(e){console.log("guest - ",e),e.transitionDate=new Date(e.transitionDate),console.log("is date - ",angular.isDate(e.transitionDate)),t.push(e)}),t};var s=this.fetchFromLocalStorage();this.getGuestList=function(){return console.log("shufflingSvc.getGuestList() - ",s),s},this.addGuest=function(e,o,n,a){s.push(new t(e,o,n,a)),updateLocalStorage()},this.deleteGuest=function(t){var e=confirm("Do you want to delete guest: "+s[t].name+"?");e&&(s.splice(t,1),updateLocalStorage())},this.editGuest=function(t){void 0==s[t].checked?s[t].checked=!0:s[t].checked=!s[t].checked,updateLocalStorage()},updateLocalStorage=function(){localStorage.setItem("guests",JSON.stringify(o.getGuestList()))}}]),app.service("sampleDataSvc",["$http",function(t){this.guests=[];var e=this;t.get("guests.json").success(function(t){console.log("json data -",t),e.guests=t}).error(function(t){alert("Error reading guests.json")})}]),angular.module("shuffling").factory("Guest",function(){var t=function(t,e,o,s){this.name=t,this.transitionDate=new Date(e),this.status=o,this.pickupLocation=s};return t});