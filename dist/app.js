var app=angular.module("shuffling",[]);app.controller("FormController",["$scope","shufflingSvc",function(t,e){var a=this;a.submit=function(){e.addGuest(a.name,a.transitionDate,a.status,a.pickupLocation),angular.element("#guests").addClass("active"),angular.element("#guestsTab").addClass("active"),angular.element("#form").removeClass("active"),angular.element("#formTab").removeClass("active")}}]),app.controller("TabController",["$scope","shufflingSvc",function(t,e){var a=this;a.getGuestList=function(){return e.getGuestList()},a.deleteGuest=function(t){e.deleteGuest(t)},a.editGuest=function(t){e.editGuest(t)},a.availableOptions=function(t){var e=[];return e.push(t),("dropoff"===t||"pickup"===t)&&e.push("arrived"),"arrived"===t&&e.push("picked"),e}}]),app.service("shufflingSvc",["Guest","GuestDataSvc",function(t,e){var a=e.getGuestData();this.getGuestList=function(){return a},this.addGuest=function(n,s,i,u){a.push(new t(n,s,i,u)),e.saveGuestData(a)},this.deleteGuest=function(t){var n=confirm("Do you want to delete guest: "+a[t].name+"?");n&&(a.splice(t,1),e.saveGuestData(a))},this.editGuest=function(t){void 0==a[t].checked?a[t].checked=!0:a[t].checked=!a[t].checked,e.saveGuestData(a)}}]),app.service("sampleDataSvc",["$http",function(t){this.guests=[];var e=this;t.get("guests.json").success(function(t){console.log("json data -",t),e.guests=t}).error(function(t){alert("Error reading guests.json")})}]),angular.module("shuffling").factory("Guest",function(){var t=function(t,e,a,n){this.name=t,this.transitionDate=new Date(e),this.status=a,this.pickupLocation=n};return t}),angular.module("shuffling").service("GuestDataSvc",function(){var t=[{name:"Bilbo Baggins",transitionDate:"2015-10-02T04:00:00.000Z",status:"dropoff",pickupLocation:"Shire"},{name:"Tom Bombadil",transitionDate:"2015-10-02T04:00:00.000Z",status:"pickup",pickupLocation:"Prancing Pony Inn"}];this.getGuestData=function(){var e=[],a=JSON.parse(localStorage.getItem("guests"));return null!=a&&a.forEach(function(t){t.transitionDate=new Date(t.transitionDate),e.push(t)}),0==e.length&&t.forEach(function(t){t.transitionDate=new Date(t.transitionDate),e.push(t)}),e},this.saveGuestData=function(t){localStorage.setItem("guests",JSON.stringify(t))}});