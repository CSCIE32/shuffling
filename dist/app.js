var app=angular.module("shuffling",[]);app.controller("FormController",["$scope","shufflingSvc",function(t,e){var s=this;s.submit=function(){console.log("in FormControllers submit"),console.log(s.name," - ",s.transitionDate," - ",s.status," - ",s.pickupLocation),e.addGuest(s.name,s.transitionDate,s.status,s.pickupLocation)}}]),app.controller("TabController",["$scope","shufflingSvc",function(t,e){var s=this;s.getGuestList=function(){return console.log("TabController.getGuestList"),e.getGuestList()},s.deleteGuest=function(t){console.log("deleteGuest - ",t),e.deleteGuest(t)},s.editGuest=function(t){console.log("editGuest - ",t),e.editGuest(t)},s.availableOptions=function(t){var e=[];return e.push(t),("dropoff"==t||"pickup"==t)&&e.push("arrived"),"arrived"==t&&e.push("picked"),e}}]),app.service("shufflingSvc",["Guest","sampleDataSvc",function(t,e){var s=this,o=JSON.parse(localStorage.getItem("guests"))||[];this.getGuestList=function(){return console.log("shufflingSvc.getGuestList() - ",o),o},this.addGuest=function(e,s,n,i){o.push(new t(e,s,n,i)),updateLocalStorage()},this.deleteGuest=function(t){var e=confirm("Do you want to delete guest: "+o[t].name+"?");e&&(o.splice(t,1),updateLocalStorage())},this.editGuest=function(t){void 0==o[t].checked?o[t].checked=!0:o[t].checked=!o[t].checked,updateLocalStorage()},updateLocalStorage=function(){localStorage.setItem("guests",JSON.stringify(s.getGuestList()))}}]),app.service("sampleDataSvc",["$http",function(t){this.guests=[];var e=this;t.get("guests.json").success(function(t){console.log("json data -",t),e.guests=t}).error(function(t){alert("Error reading guests.json")})}]),angular.module("shuffling").factory("Guest",function(){var t=function(t,e,s,o){this.name=t,this.transitionDate=new Date(e),this.status=s,this.pickupLocation=o};return t});