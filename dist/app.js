var app=angular.module("shuffling",[]);app.controller("FormController",["$scope","shufflingSvc",function(t,e){var n=this;n.submit=function(){console.log("FormController.submit()"),e.addGuest(n.name,n.transitionDate,n.status,n.pickupLocation),n.name=null,n.transitionDate=null,n.pickupLocation=null,n.status=null,angular.element("#guests").addClass("active"),angular.element("#guestsTab").addClass("active"),angular.element("#form").removeClass("active"),angular.element("#formTab").removeClass("active")}}]),app.controller("TabController",["$scope","shufflingSvc",function(t,e){var n=this;n.getGuestList=function(){return console.log("TabController.getGuestList()"),e.getGuestList()},n.deleteGuest=function(t){console.log("TabController.deleteGuest()"),e.deleteGuest(t)},n.editGuest=function(t){e.editGuest(t)},n.availableOptions=function(t){var e=[];return e.push(t),("dropoff"===t||"pickup"===t)&&e.push("arrived"),"arrived"===t&&e.push("picked"),e}}]),app.service("shufflingSvc",["Guest","GuestDataSvc",function(t,e){var n=e.getGuestData();this.getGuestList=function(){return n},this.addGuest=function(a,s,i,o){console.log("shufflingSvc.addGuest()"),n.push(new t(a,s,i,o)),e.saveGuestData(n)},this.deleteGuest=function(t){console.log("shufflingSvc.deleteGuest()");var a=confirm("Do you want to delete guest: "+n[t].name+"?");a&&(n.splice(t,1),e.saveGuestData(n))},this.editGuest=function(t){void 0==n[t].checked?n[t].checked=!0:n[t].checked=!n[t].checked,e.saveGuestData(n)}}]),angular.module("shuffling").factory("Guest",function(){var t=function(t,e,n,a){this.name=t,this.transitionDate=new Date(e),this.status=n,this.pickupLocation=a};return t}),angular.module("shuffling").service("GuestDataSvc",function(){var t=[{name:"Bilbo Baggins",transitionDate:"2015-10-02T04:00:00.000Z",status:"dropoff",pickupLocation:"Shire"},{name:"Tom Bombadil",transitionDate:"2015-10-02T04:00:00.000Z",status:"pickup",pickupLocation:"Prancing Pony Inn"}];this.getGuestData=function(){var e=[],n=JSON.parse(localStorage.getItem("guests"));return null!=n&&n.forEach(function(t){t.transitionDate=new Date(t.transitionDate),e.push(t)}),0==e.length&&t.forEach(function(t){t.transitionDate=new Date(t.transitionDate),e.push(t)}),e},this.saveGuestData=function(t){localStorage.setItem("guests",JSON.stringify(t))}});